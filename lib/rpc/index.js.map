{"version":3,"file":"index.js","sourceRoot":"","sources":["../../src/rpc/index.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,+BAA0B;AAC1B;IAKE,aAAY,IAAY;QAAxB,iBAGC;QAED,SAAI,GAAG,UAAO,MAAc,EAAE,MAAkB;;;;;wBACxC,IAAI,GAAG;4BACX,OAAO,EAAE,KAAK;4BACd,MAAM,EAAE,MAAM;4BACd,MAAM,EAAE,MAAM;4BACd,EAAE,EAAE,IAAI,CAAC,EAAE,EAAE;yBACd,CAAC;wBAEW,qBAAM,eAAK,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAA;;wBAAxC,IAAI,GAAG,SAAiC;wBAC9C,IAAI,IAAI,CAAC,IAAI,EAAE;4BACb,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;gCACnB,IAAI,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,EAAE;oCACxB,sBAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,EAAC;iCAChD;gCACD,sBAAO,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,EAAC;6BACxC;iCAAM;gCACL,sBAAO,OAAO,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,EAAC;6BAC1C;yBACF;;;;aACF,CAAC;QAvBA,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,EAAE,GAAG,CAAC,CAAC;IACd,CAAC;IAsBH,UAAC;AAAD,CAAC,AA9BD,IA8BC;AAED,kBAAe,GAAG,CAAC","sourcesContent":["import axios from 'axios';\nclass Rpc {\n  id: number;\n\n  host: string;\n\n  constructor(host: string) {\n    this.host = host;\n    this.id = 0;\n  }\n\n  post = async (method: string, params: Array<any>):Promise<any> => {\n    const data = {\n      jsonrpc: \"2.0\",\n      method: method,\n      params: params,\n      id: this.id++,\n    };\n\n    const resp = await axios.post(this.host, data);\n    if (resp.data) {\n      if (resp.data.error) {\n        if (resp.data.error.code) {\n          return Promise.reject(resp.data.error.message);\n        }\n        return Promise.reject(resp.data.error);\n      } else {\n        return Promise.resolve(resp.data.result);\n      }\n    }\n  };\n}\n\nexport default Rpc;\n"]}